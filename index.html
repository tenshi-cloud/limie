<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Limie ‚Ä¢ Quotes & Music</title>
  <meta name="description" content="Hi·ªÉn th·ªã 1 c√¢u quote gi·ªØa n·ªÅn ·∫£nh Limie v√† ph√°t 1 b√†i nh·∫°c khi b·∫•m n√∫t sau 5 gi√¢y." />
  <style>
    :root{
      --text: #010201;        /* M√ÄU CH·ªÆ THEO Y√äU C·∫¶U */
      --btnbg: #ffd24d;       /* v√†ng chanh */
      --btnbg-hover: #fec84b; /* hover */
      --btnfg: #0f172a;
      --maxw: 680px;          /* b·ªÅ r·ªông t·ªëi ƒëa v√πng quote */
    }

    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      /* üëâ ƒê·ªîI t√™n file ·∫£nh cho kh·ªõp (ƒë·ªÉ ·∫£nh .jpg c√πng th∆∞ m·ª•c v·ªõi index.html) */
      background: url('backgr.jpg') center top / cover no-repeat;
      /* tr√°nh gi·∫≠t tr√™n mobile; b·∫≠t fixed cho m√†n to ·ªü d∆∞·ªõi */
    }
    @media (min-width: 768px){
      body{ background-attachment: fixed; }
    }

    /* L·ªõp b·ªë c·ª•c chung */
    .stage{
      min-height: 100svh;                          /* chi·ªÅu cao m√†n h√¨nh mobile chu·∫©n */
      display: grid;
      place-items: start center;                    /* ƒë·∫∑t n·ªôi dung theo chi·ªÅu d·ªçc t·ª´ tr√™n xu·ªëng */
      padding: 16px;
    }

    /* Kh·ªëi n·ªôi dung ch√≠nh */
    .wrap{
  width: 100%;
  max-width: var(--maxw);
  text-align: center;
  margin-top: clamp(320px, 32vh, 360px); /* ƒê·∫©y n·ªôi dung xu·ªëng th·∫•p h∆°n */
}

    /* Quote */
    #quote{
      font-weight: 600;
      line-height: 1.6;
      font-size: clamp(18px, 3.6vw, 28px);
      color: var(--text);
      text-wrap: balance;
      margin: 0 auto;
    }

    /* Hi·ªáu ·ª©ng hi·ªán d·∫ßn */
    .fade{ opacity: 0; transform: translateY(6px); transition: opacity .35s ease, transform .35s ease; }
    .fade.show{ opacity: 1; transform: translateY(0); }

    /* N√∫t b·∫≠t nh·∫°c */
    #playBtn{
      margin-top: 18px;
      border: 0;
      border-radius: 999px;
      padding: 12px 18px;
      background: var(--btnbg);
      color: var(--btnfg);
      font-weight: 800;
      letter-spacing: .2px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    #playBtn:hover{ background: var(--btnbg-hover); }

    .hint{ margin-top: 8px; font-size: 12px; opacity: .6; }
  </style>
</head>
<body>
  <div class="stage">
    <main class="wrap" role="main" aria-live="polite">
      <div id="quote" class="fade">ƒêang ch·ªçn c√¢u truy·ªÅn c·∫£m h·ª©ng‚Ä¶</div>
      <button id="playBtn" class="fade" aria-label="B·∫≠t nh·∫°c">üéµ B·∫≠t nh·∫°c</button>
      <div class="hint">(N√∫t s·∫Ω xu·∫•t hi·ªán sau 5 gi√¢y)</div>
    </main>
  </div>

  <script>
    /* ================== C·∫§U H√åNH ================== */
    // 1 b√†i nh·∫°c duy nh·∫•t ‚Äì jsDelivr t·ª´ GitHub
    const AUDIO_SRC = "https://cdn.jsdelivr.net/gh/tenshi-cloud/limie@main/Ahead%20of%20Us.mp3";

    // Danh s√°ch QUOTES (m√†u #010201 ƒë√£ set trong CSS)
    const QUOTES = [
      "One day, you'll be so proud of yourself because you finally passed your hardest moments and all your hard work paid off. you won't feel useless, lonely, or lost anymore",
      "V·∫°n v·∫≠t ƒë·ªÅu c√≥ v·∫øt n·ª©t, ƒë√≥ l√† n∆°i √°nh s√°ng chi·∫øu v√†o",
      "Success is not final, failure is not fatal: it is the courage to continue that counts",
      "You define your own life. Don't let other people write your script",
      "Healing is not becoming the best version of yourself, healing is letting the worst version of yourself be loved",
      "Kh√¥ng c√≥ con ƒë∆∞·ªùng n√†o d·∫´n t·ªõi h·∫°nh ph√∫c, m√† h·∫°nh ph√∫c ch√≠nh l√† con ƒë∆∞·ªùng",
      "V√† khi c∆°n b√£o qua ƒëi, b·∫°n s·∫Ω kh√¥ng nh·ªõ l√† b·∫°n ƒë√£ v∆∞·ª£t qua nh∆∞ th·∫ø n√†o, b·∫°n xoay s·ªü ƒë·ªÉ t·ªìn t·∫°i ƒë∆∞·ª£c ra sao, b·∫°n th·∫≠m ch√≠ c≈©ng kh√¥ng d√°m ch·∫Øc th·∫≠t ra c∆°n b√£o c√≥ th·∫≠t s·ª± ƒëi qua. Nh∆∞ng m√† c√≥ m·ªôt ƒëi·ªÅu ch·∫Øc ch·∫Øn, khi b·∫°n b∆∞·ªõc qua kh·ªèi c∆°n b√£o, b·∫°n s·∫Ω kh√¥ng c√≤n l√† con ng∆∞·ªùi ƒë√£ b∆∞·ªõc v√†o ƒë√≥ n·ªØa.",
      "Kh√¥ng t·ªìn t·∫°i m·ªôt t√°c ph·∫©m ho√†n h·∫£o ƒë·∫øn tuy·ªát ƒë·ªëi, c≈©ng nh∆∞ kh√¥ng t·ªìn t·∫°i m·ªôt n·ªói tuy·ªát v·ªçng n√†o ƒë·∫øn c√πng c·ª±c",
      "One day or day one"
    ];

    // Tham s·ªë URL: ?delay=8 ƒë·ªÉ ƒë·ªïi th·ªùi gian tr∆∞·ªõc khi hi·ªán n√∫t
    const params = new URLSearchParams(location.search);
    const DELAY = Math.max(0, parseInt(params.get('delay') || '5', 10));

    /* ================== LOGIC ================== */
    const $q = document.getElementById('quote');
    const $btn = document.getElementById('playBtn');

    // Ch·ªçn ng·∫´u nhi√™n 1 quote, tr√°nh tr√πng l·∫ßn g·∫ßn nh·∫•t
    function r(len){ return Math.floor(Math.random() * len); }
    const last = parseInt(localStorage.getItem('limie_last_quote') || '-1', 10);
    let idx = r(QUOTES.length);
    if (QUOTES.length > 1 && idx === last) idx = (idx + 1) % QUOTES.length;
    localStorage.setItem('limie_last_quote', String(idx));

    $q.textContent = QUOTES[idx];
    requestAnimationFrame(()=> $q.classList.add('show'));

    // Sau DELAY gi√¢y m·ªõi hi·ªán n√∫t nh·∫°c
    setTimeout(() => { $btn.classList.add('show'); }, DELAY * 1000);

    // Player (y√™u c·∫ßu ng∆∞·ªùi d√πng b·∫•m ƒë·ªÉ ƒë·∫£m b·∫£o ph√°t tr√™n iOS)
    const audio = new Audio(AUDIO_SRC);
    audio.preload = 'auto';
    audio.loop = false;

    let playing = false;
    $btn.addEventListener('click', async () => {
      try{
        if(!playing){
          audio.volume = 0;
          await audio.play();
          playing = true;
          $btn.textContent = "‚è∏ T·∫°m d·ª´ng";
          // fade-in √¢m l∆∞·ª£ng
          let v = 0;
          const fade = setInterval(() => {
            v += 0.1; audio.volume = Math.min(v, 1);
            if (v >= 1) clearInterval(fade);
          }, 80);
        }else{
          audio.pause();
          playing = false;
          $btn.textContent = "üéµ B·∫≠t nh·∫°c";
        }
      }catch(e){
        console.warn("Autoplay b·ªã ch·∫∑n, c·∫ßn thao t√°c ch·∫°m c·ªßa ng∆∞·ªùi d√πng.", e);
        alert("Thi·∫øt b·ªã ƒëang ch·∫∑n ph√°t nh·∫°c. H√£y ch·∫°m l·∫°i ƒë·ªÉ b·∫≠t nh√©!");
      }
    });
  </script>
</body>
</html>
