<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Limie ‚Ä¢ Quotes & Music</title>
  <meta name="description" content="Qu√©t QR ‚Üí hi·ªÉn th·ªã 1 c√¢u quote gi·ªØa n·ªÅn ·∫£nh ‚Üí sau 5 gi√¢y hi·ªán n√∫t B·∫≠t nh·∫°c (1 b√†i, ph√°t t·ª´ jsDelivr)." />
  <style>
    :root {
      --text: #010201;            /* M√†u ch·ªØ y√™u c·∫ßu */
      --btnbg: #ffd24d;           /* V√†ng chanh Limie */
      --btnfg: #0f172a;           /* Ch·ªØ tr√™n n√∫t */
      --btnbg-hover: #fec84b;
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      /* üëâ THAY ·∫£nh n·ªÅn: ƒë·∫∑t file .jpg c·ªßa b·∫°n c√πng th∆∞ m·ª•c v√† ƒë·ªïi t√™n ·ªü d∆∞·ªõi */
      background: url('backgr.jpg') center center / cover no-repeat fixed;
    }

    /* L·ªõp ph·ªß r·∫•t nh·∫π ƒë·ªÉ ch·ªØ n·ªïi h∆°n tr√™n n·ªÅn s√°ng (c√≥ th·ªÉ x√≥a n·∫øu kh√¥ng c·∫ßn) */
    .scrim { background: rgba(255,255,255,0.02); min-height: 100vh; display: grid; place-items: center; padding: 20px; }

    .wrap { width: 100%; max-width: 880px; text-align: center; }

    #quote {
      font-weight: 600; line-height: 1.6; text-wrap: balance;
      font-size: clamp(18px, 3.4vw, 28px);
      /* N·∫øu n·ªÅn qu√° r·ª±c, c√≥ th·ªÉ b·∫≠t shadow si√™u nh·∫π ƒë·ªÉ tƒÉng t∆∞∆°ng ph·∫£n */
      /* text-shadow: 0 1px 0 rgba(255,255,255,0.7); */
    }

    .fade { opacity: 0; transform: translateY(6px); transition: opacity .35s ease, transform .35s ease; }
    .fade.show { opacity: 1; transform: translateY(0); }

    #playBtn {
      margin-top: 18px; border: 0; cursor: pointer; border-radius: 999px;
      background: var(--btnbg); color: var(--btnfg); font-weight: 800; letter-spacing: .2px;
      padding: 12px 18px; display: inline-flex; align-items: center; gap: 8px; font-size: 16px;
    }
    #playBtn:hover { background: var(--btnbg-hover); }

    .credit { margin-top: 10px; font-size: 12px; opacity: .7; }
  </style>
</head>
<body>
  <div class="scrim">
    <main class="wrap" role="main" aria-live="polite">
      <div id="quote" class="fade">ƒêang ch·ªçn c√¢u truy·ªÅn c·∫£m h·ª©ng‚Ä¶</div>
      <button id="playBtn" class="fade" aria-label="B·∫≠t nh·∫°c" style="display:inline-flex">üéµ B·∫≠t nh·∫°c</button>
      <div class="credit">(N√∫t s·∫Ω xu·∫•t hi·ªán sau 5 gi√¢y)</div>
    </main>
  </div>

  <script>
    // ===== C·∫§U H√åNH =====
    // ·∫¢nh n·ªÅn: ƒë·ªïi t√™n file ·ªü CSS: body{ background: url('background.jpg') ... }

    // Danh s√°ch QUOTES (theo th·ª© t·ª± b·∫°n g·ª≠i). M·ªói l·∫ßn m·ªü s·∫Ω ch·ªçn ng·∫´u nhi√™n 1 c√¢u.
    const QUOTES = [
      "one day, you'll be so proud of yourself because you finally passed your hardest moments and all your hard work paid off. you won't feel useless, lonely, or lost anymore",
      "V·∫°n v·∫≠t ƒë·ªÅu c√≥ v·∫øt n·ª©t, ƒë√≥ l√† n∆°i √°nh s√°ng chi·∫øu v√†o",
      "Success is not final, failure is not fatal: it is the courage to continue that counts",
      "You define your own life. Don't let other people write your script",
      "Healing is not becoming the best version of yourself, healing is letting the worst version of yourself be loved",
      "Kh√¥ng c√≥ con ƒë∆∞·ªùng n√†o d·∫´n t·ªõi h·∫°nh ph√∫c, m√† h·∫°nh ph√∫c ch√≠nh l√† con ƒë∆∞·ªùng",
      "V√† khi c∆°n b√£o qua ƒëi, b·∫°n s·∫Ω kh√¥ng nh·ªõ l√† b·∫°n ƒë√£ v∆∞·ª£t qua nh∆∞ th·∫ø n√†o, b·∫°n xoay s·ªü ƒë·ªÉ t·ªìn t·∫°i ƒë∆∞·ª£c ra sao, b·∫°n th·∫≠m ch√≠ c≈©ng kh√¥ng d√°m ch·∫Øc th·∫≠t ra c∆°n b√£o c√≥ th·∫≠t s·ª± ƒëi qua. Nh∆∞ng m√† c√≥ m·ªôt ƒëi·ªÅu ch·∫Øc ch·∫Øn, khi b·∫°n b∆∞·ªõc qua kh·ªèi c∆°n b√£o, b·∫°n s·∫Ω kh√¥ng c√≤n l√† con ng∆∞·ªùi ƒë√£ b∆∞·ªõc v√†o ƒë√≥ n·ªØa.",
      "Kh√¥ng t·ªìn t·∫°i m·ªôt t√°c ph·∫©m ho√†n h·∫£o ƒë·∫øn tuy·ªát ƒë·ªëi, c≈©ng nh∆∞ kh√¥ng t·ªìn t·∫°i m·ªôt n·ªói tuy·ªát v·ªçng n√†o ƒë·∫øn c√πng c·ª±c",
      "one day or day one"
    ];

    // Ch·ªâ 1 b√†i nh·∫°c (jsDelivr t·ª´ GitHub). Thay link n√†y n·∫øu b·∫°n ƒë·ªïi b√†i.
    const AUDIO_SRC = "https://cdn.jsdelivr.net/gh/tenshi-cloud/limie@main/Ahead%20of%20Us.mp3";

    // Tham s·ªë URL: ?delay=5 ƒë·ªÉ ƒë·ªïi th·ªùi gian ch·ªù (gi√¢y) tr∆∞·ªõc khi hi·ªán n√∫t nh·∫°c
    const params = new URLSearchParams(location.search);
    const DELAY = Math.max(0, parseInt(params.get('delay') || '5', 10));

    // ===== LOGIC =====
    const $q = document.getElementById('quote');
    const $btn = document.getElementById('playBtn');

    // Ch·ªçn ng·∫´u nhi√™n 1 c√¢u, tr√°nh tr√πng l·∫ßn g·∫ßn nh·∫•t
    function pickRandomIndex(len){ return Math.floor(Math.random() * len); }
    const last = parseInt(localStorage.getItem('limie_last_quote') || '-1', 10);
    let idx = pickRandomIndex(QUOTES.length);
    if (QUOTES.length > 1 && idx === last) idx = (idx + 1) % QUOTES.length;
    localStorage.setItem('limie_last_quote', String(idx));

    // Hi·ªÉn th·ªã quote ·ªü gi·ªØa n·ªÅn
    $q.textContent = QUOTES[idx];
    $q.classList.add('show');

    // Sau DELAY gi√¢y m·ªõi hi·ªán n√∫t "B·∫≠t nh·∫°c"
    setTimeout(() => { $btn.classList.add('show'); }, DELAY * 1000);

    // Chu·∫©n b·ªã player (mobile c·∫ßn thao t√°c ng∆∞·ªùi d√πng m·ªõi cho ph√©p √¢m thanh)
    const audio = new Audio(AUDIO_SRC);
    audio.preload = 'auto';
    audio.loop = false; // ƒë·ªïi true n·∫øu mu·ªën l·∫∑p

    // Khi b·∫•m n√∫t ‚Üí ph√°t nh·∫°c + ƒë·ªïi text n√∫t th√†nh T·∫°m d·ª´ng / B·∫≠t nh·∫°c (toggle)
    let playing = false;
    $btn.addEventListener('click', async () => {
      try {
        if (!playing) {
          audio.volume = 0;              // fade-in nh·∫π
          await audio.play();
          playing = true; $btn.textContent = '‚è∏ T·∫°m d·ª´ng';
          let v = 0; const fade = setInterval(()=>{ v+=0.1; audio.volume=Math.min(1,v); if(v>=1) clearInterval(fade); }, 70);
        } else {
          audio.pause(); playing = false; $btn.textContent = 'üéµ B·∫≠t nh·∫°c';
        }
      } catch (e) {
        console.error(e);
        alert('Thi·∫øt b·ªã ƒëang ch·∫∑n ph√°t nh·∫°c. H√£y ch·∫°m l·∫°i ƒë·ªÉ cho ph√©p nh√©!');
      }
    });
  </script>
</body>
</html>
